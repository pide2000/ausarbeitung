%!TEX root = ../document.tex
\chapter{Lösungsansatz} \label{chp:Loesungsansatz}
In diesem Kapitel wird ein Verfahren zur Lokalisierung von Twitter-Nutzern vorgestellt.
Die Fragestellungen aus Kapitel \ref{sec:fragestellung} werden, unter Berücksichtigung der Anforderungen aus Kapitel \ref{sec:Anforderungen}, beantwortet.  

Zunächst soll ein Überblick über die Funktion und den Ablauf des Verfahrens gegeben werden ohne detailliert auf die einzelnen Verfahrensschritte einzugehen.
Danach wird das Verfahen von Grundauf betrachtet und die einzelnen Verfahrensschritte eingehender erläutert. 

	\section{Überblick} 

	Das erarbeitete Verfahren soll es ermöglichen Twitter-Nutzern, deren geografische Position unbekannt ist, eine Georeferenz zuzuordnen.
	Dabei sollen als Eingabe für die Georeferenzierung lediglich die Nutzer-Zeitzone und der Nutzer-Standort aus dem Profil eines Twitter-Nutzers verwendet werden.
	Als Ergebnis soll eine Georeferenz mit einem Konfidenzwert zurückgeliefert werden. 
	Dabei hat der Anwender die Möglichkeit, sowohl die Genauigkeit bezüglich der geografischen Position, als auch einen Schwellwert für die gewünschte Konfidenz der Georeferenz anzugeben.
	In Abbildung \ref{A1} ist der generelle Ablauf der Georeferenzierung dargestellt. 
	\todo{Schema Darstellung Eingabe->Ausgabe  Sketchbook A1: Unterschrift Die Eingabe besteht aus dem Nutzer-Standort sowie der Nutzer-Zeitzone. 
	Als Rahmenbedingungen wird die gewünschte Hierarchie-Ebene sowie der Schwellwert für die Konfidenz angeben. 
	Als Ausgabe erhält man eine Georeferenz und einen Konfidenzwert, der angibt wie sicher das Ergebnis ist.} 
	\label{A1} 

	Die Georeferenzierung nach dem Schema aus Abbildung \ref{A1} setzt voraus, dass aus den eingegebenen Indikatoren eine Georeferenz abgeleitet werden kann.
	Da es sich beim Nutzer-Standort und der Nutzer-Zeitzone um unmittelbare geografische Indikatoren handelt, lässt sich ein geografischer Bezug aus diesen Indikatoren ableiten.      
	Die Idee besteht nun darin aus einer umfangreichen Tweet-Datensammlung die Zuordnung der eingegebenen Indikatoren zu geografischen Positionen zu lernen und diese in einer Datenbasis zu speichern.
	Diese Datenbasis soll im folgenden als Georeferenz-Basis bezeichnet werden.
	Damit dies realsiert werden kann, muss die Tweet-Datensammlung pro Datensatz den Nutzer-Standort, die Nutzer-Zeitzone und eine Georeferenz in Form von Längen- und Breitengrad beinhalten.  \footnote{Siehe Kapitel \ref{chp:Einleitung} genutzte Daten}

	
	Der Wert des Nutzer-Standortes ist nicht objektiv und unzuverlässig, dies macht eine Analyse und eine entsprechende Vorverarbeitung dieses Indikators nötig.
	Zur Erstellung der Georeferenz-Basis werden deshalb zunächst einige Schritte zur Vorverarbeitung der Indikatoren durchgeführt.
	Durch die Vorverarbeitung werden die eingegebenen Indikatoren genauer analysiert, zusätzliche Informationen extrahiert und in eine einheitliche Form gebracht.
	Die Indikatoren werden durch die Vorverarbeitung derart verändert, dass aus einem Indikator-Paar mehrere Datensätze enstehen können, welche Informationen aus den ursprünglichen Indikatoren enthalten.
	Danach wird mit Hilfe des Längen- und Breitengrades jedem Tweet eine konkrete Instanz der untersten Ebene der geografischen Hierarchie zugeordnet.
	Legt man die in Abschnitt \ref{chp:Grundlagen} vorgestellte geografische Hierarchie zugrunde, wird dadurch jedem Tweet eine Stadt zugeordnet.
	Durch diese Zuordnung werden jedem Tweet implizit auch die höheren Ebenen der geografischen Hierarchie zugeordnet.   	 
	Dieser Schritt markiert den Übergang von einer kontinuierlichen Darstellung der Georeferenz, durch Längen- und Breitengrad, in eine diskrete Darstellung, durch eine Stadt. 
	Die so verarbeiteten Datensätze werden nun einer simplen statistischen Auswertung unterzogen indem ermittelt wird wie häufig einer Stadt ein bestimmter Indikator zugeordnet wurde.
	Die Georeferenz-Basis beinhaltet nun die verarbeiteten Indikatoren und die zuvor zugeordnete geografische Position, in Form einer Stadt, sowie die Häufigkeit in der die Kombination Indikator/Stadt ermittelt wurde.
	Der Ablauf zur Erstellung der Georeferenz-Basis wird in Abbildung \ref{A2} dargestellt.

	Bei der Georeferenzierung werden die Indikatoren zunächst derselben Vorverarbeitung wie beim einlernen unterzogen.
	Die Vorverarbeitungsschritte sind somit generisch, da sie sowohl vor dem erzeugen der Georeferenz-Basis als auch vor der eigentlichen Georeferenzierung durchgeführt werden.
	Nach der Vorverarbeitung wird in der Georeferenz-Basis nach diesen vorverarbeitenden Indikatoren gesucht.
	Das Ergebnis dieser Suche wird unter Berücksichtigung des Konfidenzschwellwertes und der geografischen Hierarchie ausgewertet und die zugeordnete geografische Position wird ausgegeben.  
	Der Ablauf der Georeferenzierung wird in Abbildung \ref{A3} dargestellt. 

	\todo{Ablaufplan A1, A2, A3} 

	In den folgenden Kapiteln soll nun genauer auf die einzelnen Teile des Verfahrens eingegangen werden. 
	Das Verfahren wird dabei in zwei Teilen behandelt.

	Im ersten Teil wird das Einlernen der Georeferenz-Basis behandelt.
	Im Zuge des Einlernens der Georeferenz-Basis sollen auch die generischen Vorverarbeitungsschritte erläutert werden.
	Die Vorverarbeitungsschritte lassen sich in zwei Klassen einteilen.
	Die erste Klasse beinhaltet Verarbeitungsschritte um die Indikatoren für die weitere Verarbeitung zu optimieren und vorzubereiten, diese extrahieren keine zusätzlichen Informationen aus den Indikatoren.
	Die zweite Klasse beinhaltet Vorverarbeitungsschritte, durch die versucht wird zusätzliche Informationen aus den Indikatoren zu extrahieren.
	Diese Verarbeitungsschritte hängen stark zusammen mit der verwendeten geografischen Hierarchie und der späteren Auswertung.
	Deshalb werden diese Vorverarbeitungsschritte in Bezug auf die verwendete geografische Hierarchie und das Auswertungs-Verfahren betrachtet.
	Danach soll der gesamte Ablauf des Einlernens noch einmal dargestellt und kurz erklärt werden um einen Gesamtüberblick zu liefern.
	
	Zuletzt soll auf die Georeferenzierung eingegangen werden.
	Die Vorverarbeitungsschritte der Indikatoren wird in diesem Teil nur angeschnitten, da diese bereits im ersten Teil genau erläutert werden. 
	Nachdem die Indikatoren vorverarbeitet wurden, wird in der Georeferenz-Basis nach korrespondierenden Indikatoren gesucht. 
	Die Ergebnisse dieser Suche werden unter Berücksichtigung des Konfidenzschwellwertes und der gewünschten georafischen Genauigkeit, in Form der geografischen Hierarchieebene, ausgewertet.
	Das Ergebnis dieser Auswertung ist die gewünschte Georeferenz. 


	\section{Einlernen der Georeferenz-Basis}
	Zunächst sollen die Vorverarbeitungsschritte der ersten Klasse erklärt werden.
	Danach soll der Nutzer-Standort als geografischer Indikator genauer betrachtet werden und die Extrahierung tiefergehender Informationen aus den Indikatoren werden erläutert. 
	Dabei wird insbesondere auf den Zusammenhang zwischen den Vorverarbeitungsschritten der zweiten Klasse, der geografischen Hierarchie und der darauffolgenden Auswertung der Ergebnisse eingegangen.   
	Die Tatsache, dass der Wert des Nutzer-Standortes nicht objektiv und unzuverlässig ist muss dabei beachtet werden. 


			\subsubsection{Der Nutzer-Standort als geografischer Indikator}

			Zunächst soll der Nutzer-Standort als geografischer Indikator eingehender betrachtet werden. 
			In Abschnitt \ref{chp:Grundlagen} wurde der Nutzer Standort bezüglich seiner Eigenschaften untersucht. 
			Demnach kann der Nutzer-Standort als unmittelbarer geografischer Indikator angesehen werden, da als Eingabe eine geografische Position gefordert wird.  
			In zahlreichen anderen Arbeiten wurde deshalb versucht den Nutzer-Standort \todo{Referenzen auf frühere Ansätze mit Gazetteer Abfrage} durch eine Anfrage an Geografie-Datenbanken oder Geocoding-APIs auf eine konkrete geografische Position aufzulösen.
			Dieser naive Ansatz ignoriert allerdings die Eigenschaften des Wertes der im Nutzer-Standort gespeichert ist und die folgenden Probleme verursacht.

			Nach Abschnitt \ref{chp:Grundlagen} ist der Wert des Nutzer-Standortes nicht objektiv, nicht zuverlässig und nicht gesichert. 
			
			\paragraph{Nicht zuverlässig} Diese Eigenschaft sagt aus, dass der eingegebene Wert nicht zwingend ein Toponym darstellt.
			Vom Nutzer kann jeder beliebige Wert eingegeben werden, unabhängig davon ob dieser ein Toponym ist oder nicht.
			Beim naiven Ansatz, der Abfrage an eine Geocoding-Api oder eine Geografie-Datenbank wird allerdings implizit angenommen das es sich beim eingegebenen Wert um ein Toponym handelt.
			Dadurch kann es zu Fehlern bei der Auflösung kommen.
			Dadurch das der Wert nicht zuverlässig ist wird die Eigenschaft, dass der Nutzer-Standort ein unmittelbarer geografischer Indikator ist, in gewisser Weise relativiert.
			Denn theoretisch könnte jeder Nutzer einen Wert eingeben, der kein Toponym darstellt, womit die Eigenschaft des unmittelbaren geografischen Indikators hinfällig wäre.
			Es muss allerdings beachtet werden, dass der Nutzer-Standorts von einem Großteil der Nutzer zu seinem vorgesehenen Zweck genutzt wird.
			Nach Hecht et al in \cite{Hecht2011} wird in \todo{xyz Prozent} der Fälle der Nutzer-Standort verwendet um ein Toponym anzugeben. \footnote{Hecht et al untersuchen allerdings nur Nutzer-Standorte die in englischer Sprache eingegeben wurden.}
			Im Zuge der vorliegenden Arbeit wurde eine manuelle Untersuchung an xyz Tausend Twitter-Profilen vorgenommen bei denen xyz Prozent der Nutzer ein Toponym im Nutzer-Standort gespeichert hatten.   

			\todo{kleines Beispiel mit Hilfe der Geocoding Api erstellen} 

			\paragraph{Nicht gesichert} Dadurch besteht keine Garantie, dass der eingegebene Wert, sollte er ein Toponym darstellen, dem tatsächlichen Standort des Nutzers entspricht. 
			Dieser Umstand wird bei einer Auflösung mit Hilfe einer Geocoding-API oder Geografie-Datenbank nicht berücksichtigt.

			\paragraph{Nicht Objektiv} 
			Dies bedeutet, dass dieselbe georafische Position von jeweils zwei Nutzern mit unterschiedlich Toponymen bezeichnet werden kann.
			Dies wäre an sich kein Problem, wenn Toponyme über die Geocoding-API oder eine Geografie-Datenbank korrekt aufgelöst werden würden. 
			Allerdings ist in Kombination mit der Unzuverlässigkeit des Wertes zu beachten, dass auch Werte die nicht aufgelöst werden können und somit nicht direkt als Toponym identifiziert werden, einen geografischen Ort beschreiben können und damit ein Toponym darstellen. 
			Dies kann der Fall sein wenn ein Ort beispielsweise eine lokale Bezeichnung besitzt welche in Datenbanken nicht hinterlegt ist. 
			Als Beispiel hierfür sollen Spitznamen für Städte dienen.  			
			Bei Wikipedia sind für die Stadt Detroit im US-Bundesstaat Michigan folgende Spitznamen angegeben: The Motor City, Motown, Hockeytown, Rock City und The D. 
			Die ersten zwei dürften weltweit einen Gewissen Bekanntheitsgrad haben, wohingegen Hockeytown, Rock City und The D weniger bekannt sein dürften.  
			Es existieren Datenbanken mit solchen Städte-Spitznamen, aber für diese kann keine Vollständigkeit garantiert werden. 
			Auch besteht die Möglichkeit das in Teilen der Welt Spitznamen für Städte existieren die kaum über die Grenzen des Landes bekannt sind, oder aber die Schreibweise ist landesintern anders als diese in der Datenbank hinterlegt ist. 
			Eine weitere Fehlerquelle sind netzwerkinterne Schreibweisen die sich etabliert haben und ausschließlich innerhalb eines Netzwerks verwendet werden.
			Beachtet man nun noch, dass das Verfahren unabhängig von der verwendeten Sprache und dem verwendeten Alphabet funktionieren soll, ist eine Auflösung mit Hilfe von Geocoding-APIs oder einer Geografie-Datenbank sehr schwer umzusetzen und vor allem schwer zu kontrollieren. 
			Zudem ist es fraglich in wie weit und ob diese Spitznamen im Nutzer-Standort überhaupt verwendet werden.  
			Neben Spitznamen von Städten sind aber auch Toponyme denkbar die einen bestimmten Landstrich oder eine landschaftliche Besonderheit beschreiben.
			Beispieslweise beschreibt '"An der Förde'" eine geografische Region an der Ostsee, meist ist damit die Kieler Förde gemeint, es wird allerdings nicht explizit daraf hingewiesen. 
			Diese geografischen Bezeichnungen sind unter Umständen nur in speziellen Datenbanken zu finden und können so nur schlecht aufgelöst werden. 
			Diese sehr speziellen Fälle sind im Twitter-Netzwerk nicht unbedingt zu erwarten, es kann allerdings auch nicht gänzlich ausgeschlossen werden, dass solche Bezeichnungen verwendet werden. 
			Des weiteren kann aufgrund der nicht Objektivität und der Unzuverlässigkeit nicht garantiert werden, dass der aufgelöste Ort tatsächlich der Standort ist den der Nutzer angeben wollte. 
			Es gibt zahlreiche Städte, die in mehreren Ländern vorkommen.
			Ein gutes Beispiel hierfür sind US Städte. 
			Da die USA ein Einwanderungsland ist übernahmen viele Einwanderer bei der Gründung neuer Städte die Namen aus der alten Heimat. 
			So finden sich in den USA zahlreiche Städte deren Namen exakt den deutschen Städtenamen entsprechen. 
			So gibt es in den USA 30 Städte mit dem Namen Hamburg, 40 mit dem Namen Hannover, 39 mit dem Namen Berlin und 25 mit dem Namen Frankfurt um nur einige beispiele zu nennen.
			Es gibt auch Orte die in einem Land mehrfach vorkommen.
			Innerhalb Deutschlands gibt es beispielsweise 12 Gemeinden mit dem Namen Hausen und zahlreiche Stadtteile die diesen Namen tragen.  

			Diese Umstände machen es schwierig und sehr unsicher eine Auflösung direkt über den angegebenen Wert durchzuführen.
			Die Idee besteht deshalb darin den Nutzer-Standort so zu behandeln als ob keine Information direkt aus ihm entnommen werden kann.
			Es soll aus den angegebenen Werten für den Nutzer-Standort eine Zuordnung zu gegrafischen Positionen gelernt werden. 
			Damit werden einige der Probleme die in Bezug auf die Eigenschaften des Nutzer-Standortes bestehen vermieden. 



			


		  	\subsubsection{Eliminierung von Satz- und Sonderzeichen}
			  	Oft werden im Nutzer-Standort Sonder- und Satzzeichen verwendet. 
				Einige Nutzer haben ausschließlich Sonder- und Satzzeichen als Nutzer-Standort angegeben, andere benutzen diese um Emotionen auszudrücken oder als Dekoration. 
				Beispiele hierfür sind "'I $\heartsuit$ New York"' oder "'$\dagger\textasciitilde$ Los Angeles$\textasciitilde\dagger$"'.
				Es konnte kein Hinweis darauf gefunden werden, dass Sonder- und Satzzeichen zusätzliche Informationen zum angebenen Nutzer-Standort liefern. 
				In den x Millionen verfügbaren Tweets befinden sich y Nutzer welche einen Nutzer-Standort angegeben haben der ausschliesslich aus Sonder- oder Satzzeichen besteht. 
				\todo{Auswertung von Sonder Stazzeichen Datensätzen in UL} 
				Es wurden lediglich einige Beispiele gefunden in denen Satzzeichen ein Bestandteil des Standortes sind.
				Ein Beispiel hierfür ist "'Paris, 3. Arrondissement"'.
				Entfernt man die Satzzeichen, liefern diese Werte immernoch ausreichende Informationen über den Standort.  
				In diesem Vorverarbeitungsschritt werden alle Sonder- und Satzzeichen entfernt. 
				Dadurch wird gewährleistet, dass keine unnötigen Zeichen in den folgenden Schritten verarbeitet werden müssen.

		  	\subsubsection{Tokenisierung}


		  	\subsubsection{Identifizierung von Toponymen innerhalb des Nutzer-Standortes}
		  		Da der Nutzer-Standort ein unmittelbaren geografischen Indikator darstellt kann eine Analyse auf Toponyme Vorteile bringen. 
		  		In diesem Schritt werden Toponyme, welche aus zwei oder mehr Wörtern bestehen zusammengefasst um in folgenden nicht einzeln behandelt zu werden.
		  		Dadurch wird die weitere Verarbeitung effizienrter bezüglich der Anzahl der zu verarbeitenden Worte. 
		  		Zum Beispiel werden die Token [New] [York] [City] zusammengefasst zu dem Token [New York City]  
		  		Aber insbesondere soll hier nicht das Toponym analysiert und direkt eine Georeferenz hinzugefügt werden. 
		  		Die Identifizierung von toponymen dient lediglich dazu die folgenden Verarbeitungsschritte effizienter zu machen. 


		\subsection{Der Nutzer-Standort als geografischer Indikator} 

		Der Nutzer-Standort ist ein unmittelbarer geografischer Indikator, es wird vom Benutzer eine geografische Angabe, nämlich der Standort des Nutzers abgefragt. 
		Es kann also zunächst davon ausgegangen werden, dass der Nutzer-Standort eine geografische Angabe darstellt.
		Allerdings ist der Wert des Nutzer-Standortes nicht objektiv.
		Diese Eigenschaft resultiert daraus, dass der Nutzer-Standort von jedem Nutzer frei eingegeben werden kann und ohne weitere Verarbeitung durch Twitter gespeichert wird. 
		Aus diesem Umstand kann auch direkt hergeleitet werden, dass der Nutzer-Standort unzuverlässig ist.
		Damit ist bei der Auswertung mit Unsicherheiten bezüglich des Wertes zu rechnen. 
		
		Des weiteren soll das Verfahren unabhängig der verwendeten Sprache und des verwendeten Alphabets durchgeführt werden.

		Es kann also davon ausgegangen werden, dass eine geografische Angabe durch den Nutzer gemacht wird, aber man muss aufgrund der nicht Objektivität und der Unzuverlässigkeit davon ausgehen, dass die Angaben nicht korrekt, nicht überprüfbar, oder überhaupt keine geografische Angabe darstellen. 

		Dies bedeutet zum einen, dass die Werte die im Nutzer-Standort angegeben werden nicht einheitlich sind, und das die eingegebenen Werte nicht zwingend einen geografischen Ort bezeichnen. 

		Auch ist der Nutzer-Standort unzuverlässig, womit
		



		Des weiteren soll nach den Anforderungen in Abschnitt \ref{sec:Anforderungen} die Auswertung unabhängig von der verwendeten Sprache und den verwendeten Schriftzeichen sein. 


		

		In Tabelle \ref{Tabelle mit Besipielen für NICHT-Orte} sind einige Werte aufgeführt die als Nutzer-Standort angegeben wurden, aber keine geografische Position oder geografische Region bezeichnen. 
		Diese Werte sind natürlcih zur Georeferenzierung unbrauchbar. 


		Der Nutzer-Standort ist ein unmittelbarer geografischer Indikator.  
		Als Nutzer-Standort kann der Twitter-Nutzer eine beliebige Zeichenfolge eingeben. 
		Es handelt sich beim Nutzer-Standort deshalb um einen ungesicherten geografischen Indikator, es ist deshalb damit zu rechnen, dass unter Umständen keine geografische Position angegeben ist und andererseits keine einheitliche Angabe bezüglich des selben Standorts erwartet werden kann.
		Beispielsweise beschreiben die Zeichenketten "'Karlsruhe, Deutschland"' und "'Baden-Württemberg, Karlsruhe"' den selben Ort.
		Noch deutlicher wird dieser Umstand, wenn man alternative Namen oder umgangssprachliche Namen für Städte betrachtet. 
		Mit "'The Big Apple"' und "'New York, USA"' oder mit "'Motown"' und "'Detroit, MI"' sind dieselben Orte gemeint.   
		Auch die Genauigkeit bezüglich der geografischen Position ist nicht zuverlässig vorhersagbar, sehr konkrete geografische Positionen, wie die Angabe einer Stadt oder eines Stadtteils, oder aber eine geografische Region wie beispielsweise ein Land oder ein Kontinent, sind möglich. 

		Die Nutzer-Zeitzone stellt dagegen einen gesicherten, unmittelbaren geografischen Indikator dar.
		Bei der Nutzer-Zeitzone kann aus einer Liste möglicher Werte gewählt werden, womit keine Ungenauigkeiten bezüglich der Eingabe besteht und eine definierte Zeichenkette erwartete werden kann, deren geografische Region klar definiert ist. 
		Die Nutzer-Zeitzone beschreibt allerdings in jedem Fall eine größere geografische Region, die nicht immer mit den konventionellen Ländergrenzen korrespondiert und somit eine Bestimmung der geografischen Position nahezu unmöglich macht.
		\todo{Irgendwo auf den Umstand eingehen, dass Timezone nicht angegeben werden wird und dann der Standard gewählt wird der us central pacific time ist? .......} 

		Bei beiden Indikatoren besteht natürlich die Möglichkeit der Falscheingabe durch den Benutzer. Dieser Umstand wird jedoch durch die Analyse der Daten ausgemerzt. \todo{Umschreiben und woanders darauf eingehen!} 

		\todo{Zeitzone als zusätzlichen geografischen Indikator einführen Unsicherheiten ausräumen Beispiel suchen}

		Der Nutzer-Standort wird einer mehrstufigen Vorverarbeitung unterzogen.
		Die Vorverarbeitung des Nutzer-Standortes erfüllt mehrere Aufgaben. 

		Zunächst soll sichergestellt werden, dass keine unnötigen Sonder- oder Satzzeichen in die weitere Verarbeitung einfliessen. 
		Im Nutzer-Standort finden sich oft Sonder- oder Satzzeichen, die für die Bestimmung des Standortes von keinem oder sehr geringem Nutzen sind, diese sollen in der weiteren Verarbeitung nicht berücksichtigt werden.
	  	Des weiteren sollen Toponyme welche aus zwei oder mehr Wörtern bestehen \todo{Toponym definieren} erkannt, und als zusammengehörig markiert werden.
	  	Die erkannten Toponyme werden nicht zur Georeferenzierung genutzt, sondern ausschließlich um die Wörter zusammenfassen zu können und in weiteren Verarbeitungsschritten als zusammengehörige Einheit zu verarbeiten.
	  	Dies bringt den Vorteil, dass in den nächsten Verarbeitungsschritten weniger Wörter verarbeitet werden müssen.
	  	Die so verarbeiteten Worte werden zuletzt in Tokens aufgeteilt und alphanumerisch sortiert. 
	  	Dieser Schritt dient zur Vorverarbeitung für den nächsten Verarbeitugsschritt.

		  	\subsubsection{alphanumerische Sortierung der Tokens}

		  	\subsubsection{URL Encoding}
		  		\subsection{Encoding}
				Problematik unterschiedlicher Sprachen, 
				url-encoding sinnvoll als Vorbereitung auf Webservice. 

		  	

		\subsection{Die Zeitzone als geografischer Indikator}     

	\section{Einlernen der Georeferenz-Basis}

		\subsection{Zuordnung der georeferenzierten Tweets zu geografischen Entitäten} 

		\subsection{Erzeugung von N-Grammen}

				\paragraph{einbauen als Beispiel für Ngramisierung} 
				Beispiel wenn Karlsruhe Deutschland und Berlin Deutschland und Abstatt Deutschland dann kann durch die geografische Hierarchie und die NGramme Wissen über den Term Deutschland gezogen werden da auf Länderebene Deutschland immer dem gleichen geografischen Ding zugeordnet wird 

				Vorteil Toponym Identifizierung Verarbeitungsschritte:  insbesondere bei der Erzeugung von N-Grammen im Schritt 

		  		\paragraph{Erzeugung von N-Grammen}
			  	Aus den alphanumerisch sortierten Tokens der Vorverarbeitung werden in diesem Schritt N-Gramme erzeugt.
			  	Genauer werden N-Gramme der Ordnung 1, 2 und 3 erzeugt.
			  	Diese werden auch als Mono-, Bi- und Tri-Gramme bezeichnet.  

			  	Jedes dieser so entstandenen N-Gramme wird die Zeitzone angehängt.  
				Das Ergebnis dieser Phase ist eine Datenbasis welche eine Reihe von Zeichenketten aus der Nutzer-Standort und der Nutzer-Zeitzone generiert haben. 
				Jeder dieser Zeicheneketten wird die Häufigkeit ihres Vorkommens und die nächste Stadt mit über 15.000 Einwohnern zugeordnet. 

				
		\subsection{Matching auf N-Gramme und geografische Entität}

			\subsubsection{Counting} 


	\begin{enumerate}
		\item Datenstruktur
		\item Matching
		\item Counting  
	\end{enumerate}

	\section{Georeferenzierung}   
	In der zweiten Phase kann mit Hilfe der Datenbasis die eigentliche Georeferenzierung von Twitter-Nutzern, mit unbekannter geografischer Position, durchgeführt werden. 
	Es wird dem Anwender ermöglicht die Genauigkeit über die geografischen Hierarchien anzugeben und einen Konfidenzschwellwert zu bestimmen.

	Bei der Georeferenzierung kann bestimmt werden wie genau die geografische Position oder die geografische Region bestimmt werden soll. 
	Dabei kann zwischen den bereits in Kapitel \ref{par: geografische Hierarchie} erläuterten Hierarchieebenen gewählt werden.
	Dies hat den Vorteil, dass die Genauigkeit der Georeferenzierung den jeweiligen Anforderungen angepasst werden kann.
	Des weiteren kann eine Konfidenz angegeben werden, desto höher die Konfidenzschwelle gewählt wird desto sicherer ist die Georeferenzierung. 
	
	


\section{Geolocation Mapping}

	\subsection{nearest neighbour mapping}
		\begin{enumerate}
			\item \todo{Welches Fehlermaß kann für das mapping angewandt werden? auf Städteebene gut möglich mit geografischen Distanzen, admin2,amdin1, Land schlecht möglich mit Distanzen} Wie genau kann gemappt werden? Fehler Durchschnitt. 
			\item Mapping auf cities 1000/1000/15000 mit Daten zu durchschnitll. Abstand
			\item Hier ist noch Verbesserungspotenzial -> wenn Mapping Distanz zu weit entfernt -> verwerfen! 
		\end{enumerate} 

\section{Verknüpfung von Indikatoren und geografischen Lokationen zur wiedergewinnung des erlernten Wissens}
	
	\subsection{Generierung eines Wissendatensatzes}

	\subsection{Verknüpfung mit Geodaten}

	\subsection{Auflösen auf Administartionsebenen, Länder}

\section{Lokalisieren von Tweets ohne konkrete geografische Daten}
	
	\subsection{Ablauf der Lokalisierung}
	
	\subsection{Lokalisierungssicherheit durch Ausnutzung der geografischen Hierarchiebeziehungen}


\section*{einbauen!!!}
\subsection{Geografische Grundbegriffe und Geografiedaten}

		\subsubsection{Geografische Grundbegriffe}

		\subsubsection{Geonames.org} \footnote{eventuell erst in Implemetierung darauf eingehen} 
			

		\subsubsection{}	

	\subsection{???} 
		\subsubsection{N-Gramme}
			\begin{enumerate}
				\item NGramme allgemein, Verwendung, Beispiele. 
				\item \todo{NGramme -> Nochmal genau prüfen, Zusammenhang zu Markov Modell und NGram Statistik herausstellen} Zusammenhang zwischen Länge/Grad eines N-Grammes und Wahrscheinlichkeiten. -> mathematische Herleitung?!
			\end{enumerate}




\section{Einbauen in dieses Kapitel}

Die folgenden Vorverarbeitungsschritte werden durchgeführt.

	\begin{enumerate}
		\item Eliminierung von Sonderzeichen
		\item ausschließlich Kleinschreibung
		\item geografische Zuordnung von Teilworten \todo{Bessere Umschreibung finden für Teilworte, es ist eig. eine Menge von Worten aus Nutzer-Standort} 	
		\item Tokenisierung
		\item html Encoding
		\item alphanumerische Sortierung 
	\end{enumerate}

	Diese Vorverarbeitung dient der Bereiningung und Vereinheitlichung des Nutzer-Standorts.  
	Die gegografische Zuordnung dient der  

	In den einzelnen Stufen der Vorverarbeitung werden Sonderzeichen entfernt, alle Zeichen in Kleinbuchstaben umgewandelt, in der Wortfolge werden nach geografischen Begriffen gesucht die zwei oder mehr Worte beinhalten, die Zeichen werden url-encoded und die einzlenen Wörter werden in Tokens zerlegt welche alphanumerisch sortiert werden.
	Im nächsten Schritt werden aus den Tokens Uni-Gramme, Bi-Gramme und Tri-Gramme erstellt. 



	\paragraph{In Bewertung einbauen} 
	Legt man zugrunde, dass der Nutzer-Standort als ungesicherter, unmittelbarer geografischer Indikator angesehen werden kann, besteht eine Möglichkeit der Georeferenzierung darin, eine sogenannte Geocoding-API zu nutzen.
	Die Nutzer-Zeitzone wird in diesem Fall nicht als Indikator herangezogen, da diese von den Geocoding-API's nicht als zusätzliche Information verarbeitet wird. 
	Eine Reihe von bekannten Firmen bietet eine API zur Georeferenzierung an. 
	Die bekanntesten sind Google, Yahoo, Microsoft, Map Quest und Cloud Made. 
	Teilweise sind die Anfragen, welche an die Geocoding-API's gesendet werden können, in ihrer Anzahl begrenzt.
	Auch die Antwortzeiten der Geocoding-APIs begrenzen die Anzahl möglicher Anfragen pro Zeiteinheit. 
	In Tabelle \ref{eine Tabelle mit den Georef API anbietern} ist eine Auflistung der Anbieter mit den jeweiligen Begrenzungen dargestellt.
	\todo{Tabelle mit Georef Api Anbietern.}
	Eine detaillierte Analyse der Antwortzeiten wurde im Zuge dieser Arbeit nicht durchgeführt. \todo{Link in footnote einfügen} \footnote{für eine Analyse Vergleiche} 


	
	Dieses vorgehen wird in einigen Arbeiten angewendet um den Nutzer-Standort zu bestimmen. 
	Dabei wird, mit einer simplen Vorverarbeitung des Nutzer-Standortes, direkt in einer Geografie-Datenbank nach der eingegebenen Zeichenfolge gesucht. 
